(this["webpackJsonpobserver-progress"]=this["webpackJsonpobserver-progress"]||[]).push([[0],{160:function(t,e,n){},161:function(t,e,n){},188:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n(1),c=n.n(i),r=n(102),s=n.n(r),l=(n(160),n(41)),a=n(42),d=n(110),h=n(109),j=(n.p,n(161),n(202)),b=n(4),f=n(47),x={"\u0422\u0430\u043b\u0430\u0441\u0441\u043a\u0430\u044f":"\u0422\u0430\u043b\u0430\u0441\u0441\u043a\u0430\u044f","\u0433.\u041e\u0448":"\u041e\u0448","\u041e\u0448\u0441\u043a\u0430\u044f":"\u041e\u0448\u0441\u043a\u0430\u044f","\u041d\u0430\u0440\u044b\u043d\u0441\u043a\u0430\u044f":"\u041d\u0430\u0440\u044b\u043d\u0441\u043a\u0430\u044f","\u0414\u0436\u0430\u043b\u0430\u043b-\u0410\u0431\u0430\u0434\u0441\u043a\u0430\u044f":"\u0414\u0436\u0430\u043b\u0430\u043b\u0410\u0431\u0430\u0434\u0441\u043a\u0430\u044f","\u0418\u0441\u0441\u044b\u043a-\u041a\u0443\u043b\u044c\u0441\u043a\u0430\u044f":"\u0418\u041a\u0443\u043b\u044c\u0441\u043a\u0430\u044f","\u0427\u0443\u0439\u0441\u043a\u0430\u044f":"\u0427\u0443\u0439\u0441\u043a\u0430\u044f","\u0433.\u0411\u0438\u0448\u043a\u0435\u043a":"\u0411\u0438\u0448\u043a\u0435\u043a","\u0411\u0430\u0442\u043a\u0435\u043d\u0441\u043a\u0430\u044f":"\u0411\u0430\u0442\u043a\u0435\u043d\u0441\u043a\u0430\u044f"},u=function(t,e){var n=(Number(e[x[t]])/Number(e[x[t]+"_All"])*100).toFixed(0);return n>=100?"#48C9B0":(n>80&&(n=80),Object(f.b)(n/100))},O=function(t,e){return e[t]+" \u0438\u0437 "+e[t+"_All"]},p=(Object(f.c)().domain([0,100]).interpolator(Object(f.a)("white","blue")),function(t){console.log("MAP CHART"),console.log(t);return 0!==Object.keys(t.data).length&&(t.data["\u0411\u0438\u0448\u043a\u0435\u043a"],t.data["\u041e\u0448"],t.data["\u0427\u0443\u0439\u0441\u043a\u0430\u044f"],t.data["\u0422\u0430\u043b\u0430\u0441\u0441\u043a\u0430\u044f"],t.data["\u041d\u0430\u0440\u044b\u043d\u0441\u043a\u0430\u044f"],t.data["\u0414\u0436\u0430\u043b\u0430\u043b\u0410\u0431\u0430\u0434\u0441\u043a\u0430\u044f"],t.data["\u041e\u0448\u0441\u043a\u0430\u044f"],t.data["\u0411\u0430\u0442\u043a\u0435\u043d\u0441\u043a\u0430\u044f"],t.data["\u0418\u041a\u0443\u043b\u044c\u0441\u043a\u0430\u044f"]),Object(o.jsxs)(b.ComposableMap,{"data-tip":"",projection:"geoEqualEarth",width:1e3,height:500,projectionConfig:{center:[74.5,41.2],scale:6e3},children:[Object(o.jsx)(b.Geographies,{geography:"https://raw.githubusercontent.com/Xakim1c/parliament-calculator-v2/main/src/data/kg_regions_topo.json",children:function(e){return e.geographies.map((function(e){return Object(o.jsx)(b.Geography,{stroke:"#A9CCE3",geography:e,onMouseEnter:function(){console.log(e);var n=e.properties,o=n.ADM1_RU;n.Shape_Area;t.setTooltipContent("".concat(o))},onClick:function(){t.onDistrictClick(e.properties)},onMouseLeave:function(){t.setTooltipContent("")},style:{default:{fill:u(e.properties.ADM1_RU,t.data),outline:"none"},hover:{fill:"#5DADE2",outline:"none"},pressed:{fill:"#5499C7",outline:"none"}}},e.rsmKey)}))}}),Object(o.jsx)(b.Marker,{coordinates:[75.71,41.41],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u041d\u0430\u0440\u044b\u043d\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[78,42.23],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u0418\u041a\u0443\u043b\u044c\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[74.5,42.55],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u0427\u0443\u0439\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[75.75,43],fill:"#777",children:Object(o.jsxs)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"15",children:["\u0411\u0438\u0448\u043a\u0435\u043a (",O("\u0411\u0438\u0448\u043a\u0435\u043a",t.data),")"]})}),Object(o.jsx)(b.Marker,{coordinates:[72.2,42.35],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u0422\u0430\u043b\u0430\u0441\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[72.3,41.65],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u0414\u0436\u0430\u043b\u0430\u043b\u0410\u0431\u0430\u0434\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[73.4,40.25],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u041e\u0448\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsx)(b.Marker,{coordinates:[73.65,40.65],fill:"#777",children:Object(o.jsxs)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"15",children:["\u041e\u0448 (",O("\u041e\u0448",t.data),")"]})}),Object(o.jsx)(b.Marker,{coordinates:[70.5,39.65],fill:"#777",children:Object(o.jsx)("text",{textAnchor:"middle",fill:"#212F3D",fontWeight:"bold",fontSize:"20",children:O("\u0411\u0430\u0442\u043a\u0435\u043d\u0441\u043a\u0430\u044f",t.data)})}),Object(o.jsxs)(b.Marker,{coordinates:[74.6,42.85],children:[Object(o.jsxs)("g",{fill:"none",stroke:"#FF5533",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(-12, -24)",children:[Object(o.jsx)("circle",{cx:"12",cy:"10",r:"3"}),Object(o.jsx)("path",{d:"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"})]}),Object(o.jsx)("text",{textAnchor:"middle",y:15,style:{fontFamily:"system-ui",fill:"#5D5A6D"}})]}),Object(o.jsxs)(b.Marker,{coordinates:[72.8,40.55],children:[Object(o.jsxs)("g",{fill:"none",stroke:"#FF5533",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(-12, -24)",children:[Object(o.jsx)("circle",{cx:"12",cy:"10",r:"3"}),Object(o.jsx)("path",{d:"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"})]}),Object(o.jsx)("text",{textAnchor:"middle",y:15,style:{fontFamily:"system-ui",fill:"#5D5A6D"}})]})]})}),g=Object(i.memo)(p),m=n(57),k=(n(165),n(103)),y=n.n(k);function D(t){return Object(o.jsx)("div",{style:{position:"absolute",height:"100%",transform:"rotate(".concat(t.turns,"turn)")},children:Object(o.jsx)("div",{style:t.style})})}var F=function(t){var e=1/t.count;return y.a.range(t.count).map((function(n){return Object(o.jsx)(D,{turns:n*e,style:t.style})}))};function C(t){return Object(o.jsx)(m.a,{value:t.percent,text:"".concat(t.percent,"%"),strokeWidth:10,styles:Object(m.b)({strokeLinecap:"butt"}),children:Object(o.jsx)(F,{count:12,style:{background:"#fff",width:"2px",height:"".concat(10,"%")}})})}var v=n(104),A=n.n(v),M=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var o;return Object(l.a)(this,n),(o=e.call(this,t)).handleContentTooltip=function(t){console.log(t)},o.handeOnDistrictClick=function(t){console.log(t)},o.state={data:{}},o}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this;A.a.init({key:"https://docs.google.com/spreadsheets/d/1mpsk4sFCmNi96xuSNT0FsazpAx15tgSM3hqEB4kvVQk/edit?usp=sharing",simpleSheet:!0}).then((function(e){t.setState({data:e[0]})})).catch((function(t){return console.warn(t)}))}},{key:"render",value:function(){console.log("RENDER APP"),console.log(this.state.data);var t=0,e=0,n=0,i=0;return 0!==Object.keys(this.state.data).length&&(e=Number(this.state.data["\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u043e\u0441\u044c"]),t=(n=Number(this.state.data["\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e"]))-e,i=(e/n*100).toFixed(0)),Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(j.a,{container:!0,justify:"center",children:[Object(o.jsxs)("div",{style:{width:300,height:"100%",padding:"20px"},children:[Object(o.jsxs)("h3",{style:{color:"#212F3D"},children:["\u0421 \u043d\u0430\u043c\u0438 \u0443\u0436\u0435 ",Object(o.jsxs)("span",{style:{color:"#CB4335",fontSize:22},children:[e," "]}),"\u0438\u0437 ",n," \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0435\u0439"]}),Object(o.jsx)(C,{percent:i})]}),Object(o.jsxs)("div",{style:{width:1e3,height:"100%"},children:[Object(o.jsxs)("h3",{style:{color:"#212F3D"},children:["\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0435\u0449\u0451 ",Object(o.jsx)("span",{style:{color:"#212F3D",fontSize:28},children:" \u0447\u0435\u043b\u043e\u0432\u0435\u043a "}),"  \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u044b\u0445 \u0432\u044b\u0431\u043e\u0440\u043e\u0432: ",Object(o.jsxs)("span",{style:{color:"#CB4335",fontSize:25},children:[t," "]})]}),Object(o.jsx)("h4",{style:{color:"#212F3D"},children:"(\u0427\u0438\u0441\u043b\u043e \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0435\u0439 \xab\u041a\u043b\u043e\u043e\u043f\u0430\xbb \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c)"}),Object(o.jsx)(g,{setTooltipContent:this.handleContentTooltip,onDistrictClick:this.handeOnDistrictClick,data:this.state.data})]})]})})}}]),n}(c.a.Component),S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),o(t),i(t),c(t),r(t)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(M,{})}),document.getElementById("root")),S()}},[[188,1,2]]]);
//# sourceMappingURL=main.f4598603.chunk.js.map